# springboot-file-storage

**文档预览**

## spring-boot 集成(组件)示例

> 以下是已经完成的示例模块

- [springboot-file-preview-kkview](./springboot-file-preview-kkview)
- [springboot-file-preview-onlyoffice](./springboot-file-preview-onlyoffice)

## 文件预览方案

> 选择合适的文件预览方案需要综合考虑多个因素，并根据实际需求制定相应的方案。

### 组件预览

> 依赖底层组件进行转换预览，注:以下为开源免费的或社区版本

| 预览方案                                                                         | 预览效果 | 依赖组件                          | 推荐  | 描述                                                                      |
|------------------------------------------------------------------------------|------|-------------------------------|-----|-------------------------------------------------------------------------|
| **[onlyoffice](https://github.com/ONLYOFFICE)**                              | 较好   | 依赖onlyoffice服务端               | 推荐  | 预览效果较好                                                                  |
| **[kkFileView](https://kkview.cn/zh-cn/index.html)**                         | 好    | 依赖LibreOffice或OpenOffice      | 强推荐 | 完全开源免费，且支持的文件格式预览较多,部分文档预览效果可能不太好.                                      |
| Office Online 离线部署版                                                          | 好    | 依赖Office Online服务端，必须是windwos | 不推荐 | 部署成本高，依赖windwos                                                         |
| [Office Online](https://view.officeapps.live.com/op/view.aspx?src=文件地址) 在线预览 | 好    | 无                             | 不推荐 | 依赖外网，内网无法访问外网情况，不能使用，且只能预览'doc', 'docx', 'ppt', 'pptx', 'xls', 'xlsx'类型 |

### 后端转换预览

> 后端代码层面实现转换预览,比如：把 excel 转为 pdf or 图片后再预览

| 转换方案                                     | 转换效果 | 转换效率 | 依赖组件 | 推荐 | 描述 |
|------------------------------------------|------|------|------|----|----|
| [poi](https://poi.apache.org/index.html) |      |      |      |    |    |
|                                          |      |      |      |    |    |

### 前端转换预览

> 前端代码层实现转换预览

| 转换方案                                        | 转换效果 | 转换效率 | 依赖组件 | 推荐 | 描述                                  |
|---------------------------------------------|------|------|------|----|-------------------------------------|
| [pdf.js](https://mozilla.github.io/pdf.js/) | 很不错  | 高    |      | 推荐 | 前端通过pdf.js进行pdf转换预览，效率挺高的,转换后的效果也不错 |
|                                             |      |      |      |    |                                     |

注:以上为开源免费或者社区版本，文档预览一些收费的方案参考：

## 文件预览方案

文件预览方案可以根据实际需求选择不同的方案，以下列举几种常见的文件预览方案：

- 前端预览方案：将文件上传到服务器后，使用前端技术（如HTML5、JavaScript、CSS等）进行在线预览，实现简单、易用，适合小型应用。

- 转换预览方案：将上传的文件转换为预览格式，如将PDF文件转换为图片格式进行预览，可以提高预览速度和稳定性，适用于文件格式较多和预览效果要求较高的场景。

- 第三方预览方案：使用第三方预览服务，如Google Docs Viewer、Microsoft Office Online等，可以实现在线预览多种文件格式，适用于需要在线预览多种格式文件的场景。

- 服务器端预览方案：使用服务器端插件或程序对文件进行预处理，然后通过Web页面呈现预览结果，适用于需要高效、安全的预览方案。

- 原生预览方案：使用文件本身提供的预览功能，如电子书阅读器、图片浏览器等，适用于特定格式的文件预览。

以上是常见的文件预览方案，选择适合自己的预览方案需要根据实际需求进行综合评估，结合预览效果、安全性、性能等方面进行权衡。

## 文件预览方案选型参考指标

文件预览方案需要考虑以下几个方面：

    支持的文件类型：确定需要预览的文件类型，以便选择合适的预览方案。不同的预览方案支持的文件类型可能不同，需要根据实际需求进行选择。
    
    预览方式：考虑预览方式，如在线预览、下载预览、原图预览等。不同的预览方式适用于不同的场景，需要根据实际情况选择。
    
    预览效果：考虑预览效果，如清晰度、速度、稳定性等。预览效果对用户体验有很大影响，需要选择效果较好的预览方案。
    
    安全性：考虑预览方案是否具有足够的安全性保障，如访问控制、数据加密等。保护用户的隐私和数据安全是预览方案的基本要求。
    
    兼容性：考虑预览方案是否能够与其他系统和应用程序集成，以方便数据的共享和交换。
    
    可扩展性：考虑预览方案是否具有良好的可扩展性，以便在需要扩展预览功能时能够方便地进行扩展。
    
    性能：考虑预览方案的性能表现是否能够满足用户的需求，如预览速度、响应时间等。
    
    成本：考虑预览方案的总体成本，包括硬件、软件、维护和管理等方面。

综上所述，选择合适的文件预览方案需要综合考虑多个因素，并根据实际需求制定相应的方案。